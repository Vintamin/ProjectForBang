//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : 三维数字矿山平台
//  @ File Name : layermanager.h
//  @ Date : 2014/7/6
//  @ Author : 盛佳良
//  @ Implement : 
//  @ Company : 中国矿业大学(北京)
//  @ Copyright:  2014-2020
//  @ Description : 


#if !defined(_LAYERMANAGER_H)
#define _LAYERMANAGER_H

#include "vrmine/vr_scenecontrol/scenecontrol_config.h"
#include <string>
#include "vrmine\vr_spatialinterface\ilayer.h"
#include "vrmine/vr_spatialengine/geoscenemanager.h"
#include "vrmine/vr_spatiallayer/demlayer.h"
#include "vrmine/vr_spatiallayer/imagelayer.h"

namespace VirtualMine
{
	namespace Scene
	{
		class VR_SCENECONTROL_DLL CSceneHelper
		{
		public:
			typedef std::map<std::string,VirtualMine::SpatialInterface::ILayer*> LayerMap;
			static CSceneHelper& getSingleton();
			static CSceneHelper* getSingletonPtr();
			virtual ~CSceneHelper();
			void setGeoSceneManager(VirtualMine::SpatialEngine::CGeoSceneManager * ref_pGeoSceneManager);
			VirtualMine::SpatialInterface::ILayer* createLayer(const std::string& name,const std::string& layerType);
			VirtualMine::SpatialInterface::ILayer* createLayer(const std::string& name);
			VirtualMine::SpatialInterface::ILayer* getLayer(const std::string& name);
			VirtualMine::SpatialInterface::ILayer* getImageLayer();
			VirtualMine::SpatialInterface::ILayer* getDemLayer();
			LayerMap* getLayerMap();
			void renderToScene();
			void renderToScene(const std::string& name);
			bool destroyLayer(const std::string& name);

		protected:
			CSceneHelper();

		protected:

			static CSceneHelper* mpSingletonPtr;
			VirtualMine::SpatialEngine::CGeoSceneManager * ref_mpGeoSceneManager;
			
		};
	}
}

#endif  //_LAYERMANAGER_H
