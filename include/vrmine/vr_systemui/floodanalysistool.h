////
////
////  Generated by StarUML(tm) C++ Add-In
////
////  @ Project : 三维数字矿山平台
////  @ File Name : itool.h
////  @ Date : 2014/7/6
////  @ Author : 盛佳良
////  @ Implement : 
////  @ Company : 中国矿业大学(北京)
////  @ Copyright:  2014-2020
////  @ Description : 
//
//
//#if !defined(_IFLOODANALYSIS_H)
//#define _IFLOODANALYSIS_H
//
//#include "vrmine/vr_systemui/systemui_config.h"
//#include "vrmine\vr_core\event.h"
//#include "vrmine\vr_spatialinterface\itool.h"
//#include "vrmine\vr_scenecontrol\geospatialcontrol.h"
//#include "vrmine\vr_arithmetic\arithmetic\rectflood_meshcreator.h"
//#include <vector>
//
//namespace VirtualMine
//{
//	namespace SystemUI
//	{
//		class VR_SYSTEMUI_DLL CFloodAnalysisTool : public VirtualMine::SpatialInterface::CTool
//		{
//		public:
//			CFloodAnalysisTool();
//			virtual ~CFloodAnalysisTool();
//			void setGeoSpatialControl(VirtualMine::Scene::CGeoSpatialControl* ref_pGeoSpatialControl);
//			void setWaterColor(const Ogre::ColourValue& color);
//			void setWaterHeight(const float& waterHeight);
//			Ogre::ColourValue getWaterColor();
//			float getWaterHeight();
//			void setUseFloodAnalysis(const bool& useFloodAnalysis);
//			bool getUseFloodAnalysis();
//			bool getWaterSurfaceState();
//			void setWaterSurfaceState(const bool& showWaterSurface);
//			bool getUseFloatEffect();
//			void setUseFloatEffect(const bool& useFloatEffect);
//
//			void setLanewayCtl(const Ogre::Vector3& camPos);
//		    VirtualMine::Arithmetic::CRectFlood_MeshCreator* getWaterSurface();
//		protected:
//			void createWaterSurface();
//		   
//		protected:
//			VirtualMine::Scene::CGeoSpatialControl* ref_mpGeoSpatialControl;
//			Ogre::ColourValue mWaterColor;
//			float mWaterHeight;
//			bool mUseFloodAnalysis;
//			bool mShowWaterSurface;
//			bool mUseFloatEffect;
//			VirtualMine::Arithmetic::CRectFlood_MeshCreator* mpWaterSurfaceObject;
//			std::vector<std::string> mLanewayMaterialNames;
//			//VirtualMine::Arithmetic::CRectFlood_MeshCreator* mpWaterSurfaceObject;
//			float mRefercencerY;
//		};
//	}
//}
//
//#endif  //_ITOOL_H



//////////////////////////////////////////


//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : 三维数字矿山平台
//  @ File Name : itool.h
//  @ Date : 2014/7/6
//  @ Author : 盛佳良
//  @ Implement : 
//  @ Company : 中国矿业大学(北京)
//  @ Copyright:  2014-2020
//  @ Description : 


#if !defined(_IFLOODANALYSIS_H)
#define _IFLOODANALYSIS_H

#include "vrmine/vr_systemui/systemui_config.h"
#include "vrmine\vr_core\event.h"
#include "vrmine\vr_spatialinterface\itool.h"
#include "vrmine\vr_scenecontrol\geospatialcontrol.h"
#include "vrmine\vr_arithmetic\arithmetic\rectflood_meshcreator.h"
#include <vector>

namespace VirtualMine
{
	namespace SystemUI
	{
		class VR_SYSTEMUI_DLL CFloodAnalysisTool : public VirtualMine::SpatialInterface::CTool
		{
		public:
			CFloodAnalysisTool();
			virtual ~CFloodAnalysisTool();
			void setGeoSpatialControl(VirtualMine::Scene::CGeoSpatialControl* ref_pGeoSpatialControl);
			void setWaterColor(const Ogre::ColourValue& color);
			void setWaterHeight(const float& waterHeight);
			Ogre::ColourValue getWaterColor();
			float getWaterHeight();
			void setUseFloodAnalysis(const bool& useFloodAnalysis);
			bool getUseFloodAnalysis();
			bool getWaterSurfaceState();
			void setWaterSurfaceState(const bool& showWaterSurface);
			bool getUseFloatEffect();
			void setUseFloatEffect(const bool& useFloatEffect);

			void setLanewayCtl(const Ogre::Vector3& camPos);
			void createSurface();
		protected:
			void createWaterSurface();

			void visibleSurface();
		protected:
			VirtualMine::Scene::CGeoSpatialControl* ref_mpGeoSpatialControl;
			Ogre::ColourValue mWaterColor;
			float mWaterHeight;
			bool mUseFloodAnalysis;
			bool mShowWaterSurface;
			bool mNextShowSurface;
			bool mUseFloatEffect;
			VirtualMine::Arithmetic::CRectFlood_MeshCreator* mpWaterSurfaceObject;
			std::vector<std::string> mLanewayMaterialNames;
			//VirtualMine::Arithmetic::CRectFlood_MeshCreator* mpWaterSurfaceObject;
		};
	}
}

#endif  //_ITOOL_H
