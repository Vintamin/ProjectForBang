//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : 三维数字矿山平台
//  @ File Name : cimagelayer.h
//  @ Date : 2014/7/27
//  @ Author : 盛佳良
//
//


#if !defined(_CIMAGELAYER_H)
#define _CIMAGELAYER_H

#include "vrmine/vr_spatiallayer/scenelayer.h"
//#include "vrmine/vr_spatiallayer/imagelayer.h"
#include "OGRE/OgreManualObject.h"

namespace VirtualMine
{
    namespace SpatialLayer
    {
		class CDemEventHandler;
        class VR_SPATIALLAYER_DLL CImageLayer : public CSceneLayer
        {
		public:
			CImageLayer();
			virtual ~CImageLayer();
			virtual void setXSamplingStrategy(const int& samplingStrategy);
			virtual void setYSamplingStrategy(const int& samplingStrategy);
			virtual int getXSamplingStrategy();
			virtual int getYSamplingStrategy();
			virtual double getXSamplingPrecision();
			virtual double getYSamplingPrecision();
			virtual double getHeight(const double& x,const double& z);
			virtual void initialise();
			virtual void draw();
			virtual void setFrameMode(bool isFrameMode);
			virtual void reCreateGridBuffer(const bool& hasDemData);
			virtual void resetResource();
		protected:
			int mXSamplingStrategy;
			int mYSamplingStrategy;
			double mXSamplingPrecision;
			double mYSamplingPrecision;
			Ogre::ManualObject* mpRenderObject;
			CDemEventHandler* mpTerrainEventHandler;
			Ogre::Image mImageData;
        };
    }
}

#endif  //_CIMAGELAYER_H
